<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><title>Root Words Lists 1 + 2</title>
<style type="text/css">
.rtable {border:1px solid #42b0c9;border-bottom:0;border-right:0;margin:0;margin-left:-5px;border-collapse:collapse;width:100%;padding:4px}
.rtable th {border:1px solid #42B0C9;background:#42B0C9;border-right:0px solid #64CBE2;color:#fff;font-size:14px;padding:3px 5px}
.rtable td {border-bottom:1px solid #64CBE2;background:#EBF6F9;border-right:1px solid #64CBE2;padding:3px 5px}
.rtable .white td {border-bottom:1px solid #E26464;background:#F9EBEB;border-right:1px solid #E26464;border-left:1px solid #E26464;padding:3px 5px}
.rtable tr:hover td {background-color:#ffffc1;}
</style>
<script type="text/javascript" src="cssjs/jquery-1.5.min.js"></script>
<script type="text/javascript" src="cssjs/jquery.dataTables.min.js"></script>
<script type="text/javascript">
$.fn.dataTableExt.afnFiltering.push(
	function( oSettings, aData, iDataIndex ) {
		var iMin = (document.getElementById('min').value * 1);
		var iMax = (document.getElementById('max').value * 1);
		var iVersion = aData[0] == "W" ? 0 : aData[0]*1;
		if ( iMin == "" && iMax == "" )
		{
			return true;
		}
		else if ( iMin - 1 == "" && iVersion < iMax + 1 )
		{
			return true;
		}
		else if ( iMin - 1 < iVersion && "" == iMax)
		{
			return true;
		}
		else if ( iMin - 1 < iVersion && iVersion < iMax + 1 )
		{
			return true;
		}
		return false;
	}
);

jQuery.fn.dataTableExt.oSort['anti-unds-asc'] = function(a,b) {
	var x = a.replace(/_/, "");
	var y = b.replace(/_/, "");
	return ((x < y) ? -1 : ((x > y) ? 1 : 0));
};

jQuery.fn.dataTableExt.oSort['anti-unds-desc'] = function(a,b) {
	var x = a.replace(/_/, "");
	var y = b.replace(/_/, "");
	return ((x < y) ? 1 : ((x > y) ? -1 : 0));
};

$(document).ready(function() 
    { 
        $("#rlist3").dataTable( {
			"aaSorting": [[ 1, "asc" ]],
			"aoColumnDefs": [
				{ "sType": "anti-unds-asc", "aTargets": 1 }
			],
			"bAutoWidth": false,
			"iDisplayLength": -1,
			"oLanguage": {
				"sLengthMenu": 'Display <select>'+
				'<option value="10">10</option>'+
				'<option value="25">25</option>'+
				'<option value="50">50</option>'+
				'<option value="100">100</option>'+
				'<option value="-1">All</option>'+
				'</select> entries'
			}
		} );
		var oTable = $('#rlist3').dataTable();
		$('#min').keyup( function() { oTable.fnDraw(); } );
		$('#max').keyup( function() { oTable.fnDraw(); } );
	} );
</script>
</head><body>
<span style="font-size:10px; padding-left:10px; background:#E26464; border:1px solid #EBF6F9; overflow:hidden;">&nbsp;</span> = List 1<br />
<span style="font-size:10px; padding-left:10px; background:#64CBE2; border:1px solid #EBF6F9; overflow:hidden;">&nbsp;</span> = List 2<br />
Show: 
<input type="checkbox" name="one" id="box1" onclick="$('#one').toggle();" checked="true" />List One 
<input type="checkbox" name="two" id="box2" onclick="$('#two').toggle();" checked="true" />List Two

<!-- TODO: 
* Add 3 filtering options: first list, second list only, show both (default to both) 
* Possible quiz system?
* images -> base64 encoded?
-->
<br />
<br />
<table class="rtable">
	<thead>
		<tr><th>#</th><th>Root</th><th>Definition</th></tr>
	</thead>
	
	<tbody id="two"></tbody>
	<tbody id="one" class="white"></tbody>
</table>
<br />
		<script type="text/javascript">
			// Load JSON file
			$.getJSON('list.json', function(data) {
				//List one
				$.each(data.listone, function(i,item){
					$("#one").append("<tr><td>" + item.number + "</td><td>" + item.root + "</td><td>" + item.definition + "</td></tr>");
				});
				// List two
				$.each(data.listtwo, function(i,item){
					$("#two").append("<tr><td>" + item.number + "</td><td>" + item.root + "</td><td>" + item.definition + "</td></tr>");
				});
			})
		</script>
</body>
</html>